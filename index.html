<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sim2Val</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      line-height: 1.6;
      max-width: 1000px;
      margin: auto;
      padding: 20px;
      background-color: #fdfdfd;
      color: #333;
    }

    h1, h2, h3 {
      color: #1a1a1a;
    }

    a {
      color: #1a73e8;
      text-decoration: none;
    }

    a:hover {
      text-decoration: underline;
    }

    img {
      max-width: 100%;
      height: auto;
      display: block;
      margin-bottom: 20px;
    }

    .side-by-side {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      align-items: flex-start;
      margin-bottom: 40px;
    }

    .side-by-side > div {
      flex: 1;
      min-width: 300px;
    }

    ul {
      margin-top: 0;
      margin-bottom: 10px;
    }

    .examples {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      margin-bottom: 40px;
    }

    .examples img {
      flex: 1;
      min-width: 300px;
    }

    hr {
      border: none;
      border-top: 1px solid #ccc;
      margin: 40px 0;
    }
  </style>
</head>
<body>
  <h1>Sim2Val</h1>
  <p>This project provides <code>sim2val</code>—a Python package with utilities for validation using simulated data. For more information, please see the <a href="https://www.arxiv.org/pdf/2506.20553">paper</a> or the <a href="corl_2025_poster.pdf">poster</a>.</p>

  <h2>Abstract</h2>
  <p>Learning-based robotic systems demand rigorous validation to assure reliable performance, but extensive real-world testing is often prohibitively expensive, and if conducted may still yield insufficient data for high-confidence guarantees. In this work we introduce Sim2Val, a general estimation framework that leverages paired data across test platforms, e.g., paired simulation and real-world observations, to achieve better estimates of real-world metrics via the method of control variates. By incorporating cheap and abundant auxiliary measurements (for example, simulator outputs) as control variates for costly real-world samples, our method provably reduces the variance of Monte Carlo estimates and thus requires significantly fewer real-world samples to attain a specified confidence bound on the mean performance. We provide theoretical analysis characterizing the variance and sample-efficiency improvement, and demonstrate empirically in autonomous driving and quadruped robotics settings that our approach achieves high-probability bounds with markedly improved sample efficiency. Our technique can lower the real-world testing burden for validating the performance of the stack, thereby enabling more efficient and cost-effective experimental evaluation of robotic systems.</p>

  <h2>Motivation</h2>
  <div class="side-by-side">
    <div>
      <img src="https://github.com/user-attachments/assets/abdae8a4-dc65-4b09-b2e5-4c50597b41e3" alt="platforms" />
    </div>
    <div>
      <p>Sim2Val estimator of mean:</p>
      <ul>
        <li>Note that variance reduction is a function of the scale of sim-only data (k) and the correlation (ρ²)</li>
      </ul>
      <p>If the original paired observations have low correlation:</p>
      <ul>
        <li>Traditional validation requires extensive real-world testing to achieve the confidence levels needed for safety assurances and certification</li>
        <li>Simulation-only validation would be much cheaper, but simulators are not yet accurate enough for standalone validation, and would shift the problem to that of validating a simulator</li>
        <li>Goal: Combine real-world and simulation testing to reduce real-world data requirements for validation</li>
      </ul>
    </div>
  </div>

  <h2>Method</h2>
  <div class="side-by-side">
    <div>
      <p><strong>Idea:</strong> Use simulation as a control variate!</p>
      <ul>
        <li>With a control variate – a correlated signal whose expectation is known – we can reduce the variance of our estimator</li>
        <li>Simulation measurements are correlated with real-world measurements</li>
        <li>Because the true simulation mean is unknown, we estimate it from the sim-only data</li>
      </ul>
    </div>
    <div>
      <img src="https://github.com/user-attachments/assets/3fc8b2f0-9142-4719-8d36-67be16f60d18" alt="paired_thumbnail" />
    </div>
  </div>

  <img src="https://github.com/user-attachments/assets/8cc2c4d3-31fe-430c-aaf0-0b3d6ef64217" alt="real_to_sim_mapping" />

  <div class="side-by-side">
    <div>
      <p>Sim2Val estimator of mean:</p>
      <ul>
        <li>Note that variance reduction is a function of the scale of sim-only data (k) and the correlation (ρ²)</li>
      </ul>
      <p>If the original paired observations have low correlation:</p>
      <ul>
        <li>We can learn a nonlinear metric correlator function (MCF) mapping scenario features + sim measurements → a refined surrogate metric</li>
        <li>We can then use the new surrogate as a control variate</li>
      </ul>
    </div>
    <div>
      <img src="https://github.com/user-attachments/assets/a40f2b7c-5d1b-4a8f-999c-ae5fda1a0243" alt="equations_and_corr" />
    </div>
  </div>

  <h3>Examples of Paired Scenarios</h3>
  <div class="examples">
    <img src="https://github.com/user-attachments/assets/a9fde77f-1e37-499b-b86a-011601d9ab4b" alt="example1" />
    <img src="https://github.com/user-attachments/assets/20ee58be-7026-42d3-a38f-18a88849d017" alt="example2" />
  </div>

  <h2>Results</h2>
  <h3>Sim2Val Autonomous Driving Performance</h3>
  <img src="https://github.com/user-attachments/assets/0d23df4a-b69f-4a2f-9bc7-6c87865f723f" alt="autonomous_driving" />
  <p>By leveraging inexpensive sim samples, we can achieve equivalent confidence level as using ~6x the number of expensive real-world samples! (Variance reduction of 82.9%)</p>

  <h3>Sim2Val Quadruped Velocity Tracking</h3>
  <img src="https://github.com/user-attachments/assets/12ef0ac4-3456-4560-a503-ce5e73ef11e4" alt="quadruped_velocity" />
  <p>Note that even the relatively modest reduction in variance from 2.048E−5 to 1.926E−5 would have required 38% more real-world tests without sim!</p>

</body>
</html>

